"use strict";

exports.__esModule = true;
exports.default = exports.useEntity = void 0;

var _withSelector = require("use-sync-external-store/shim/with-selector");

var _utils = require("./utils");

var identity = function identity(v) {
  return v;
};

var useEntity = function useEntity(entity, transform, equality) {
  if (transform === void 0) {
    transform = identity;
  }

  if (equality === void 0) {
    equality = _utils.strictEqual;
  }

  if (!(entity._subscribers instanceof Set)) throw new Error('Invalid entity.');
  return (0, _withSelector.useSyncExternalStoreWithSelector)(entity._subscribe, entity.get, entity.get, transform, equality);
};

exports.useEntity = useEntity;
var _default = useEntity;
exports.default = _default;